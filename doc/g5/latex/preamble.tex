
%% BASICS

\documentclass[a4paper,10pt,english,twoside,openright]{report}
\usepackage{geometry}
\geometry{top=3.0cm , bottom=3.0cm , left=2.5cm , right=2.5cm , headsep=9mm , footskip=14mm , marginparwidth=2.0cm , marginparsep=0.25cm , a4paper , pdftex}
\usepackage{t1enc}
\usepackage{ucs}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage{pslatex}
\usepackage[pdftex]{graphicx}
\usepackage{graphicx}

%% PACKAGES

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm} 
\usepackage{float}
\usepackage{paralist}
\usepackage{flafter}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{dpfloat}
\input{look/kvmacros}
\usepackage{url}
\usepackage{varioref}
\usepackage{hyperref}
\usepackage[square]{natbib}
\hypersetup{pdfborder = 0}
\usepackage{colortbl}
\usepackage{color}
\usepackage{xkvltxp}
\usepackage{look/fixme}
\usepackage{look/fxenvlayoutcolor}
\fxsetup{draft, theme=colorsig, english, mode=multiuser,}
\FXRegisterAuthor{se}{adk}{SE}
\FXRegisterAuthor{jj}{aac}{JJ}
\FXRegisterAuthor{mj}{amj}{MJ}
\FXRegisterAuthor{bk}{abk}{BK}
\usepackage[perpage,symbol*]{footmisc}
\usepackage{timing}
\usepackage{listings}
\usepackage{textcomp}
\usepackage{tabularx}
\usepackage{subfig}

\usepackage{mdwlist}

\usepackage{algorithmic}
\usepackage{algorithm}
\numberwithin{algorithm}{chapter}  % <--- chapter, section etc. depending on what is required

%% LOOKINGS

\usepackage{look/lgchappng}
\usepackage{fancyhdr}
\usepackage{listings}
\usepackage{caption}

\lstset{language=C, frame=none, breakatwhitespace=true, breaklines=true, tabsize=4, basicstyle=\small, extendedchars=false, inputencoding=utf8x, stringstyle=\ttfamily, numbers=left, numberstyle=\scriptsize, stepnumber=1, emptylines=1, showstringspaces=false, captionpos=b, texcl=true}

\renewcommand{\lstlistlistingname}{Kodeliste}

\setlength{\parindent}{0mm}
\setlength{\parskip}{0mm}
\linespread{1.1}
\setcounter{tocdepth}{2}
\setlength{\headheight}{13.6pt}

\pagestyle{fancy}
	\fancyhead{}
	\fancyhead[RO,LE]{\nouppercase \slshape \rightmark}
	\fancyfoot{}
	\fancyfoot[LE,RO]{\thepage}
	\fancyfoot[C]{}
	\fancyfoot[RE,LO]{\emph{\leftmark}}
	\renewcommand{\headrulewidth}{0.4pt}
	\renewcommand{\footrulewidth}{0.4pt}
	\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
	\renewcommand{\sectionmark}[1]{\markright{#1}{}}
	\fancypagestyle{plain}{
		\fancyhf{}
		\fancyfoot[LE,RO]{\thepage}
		\renewcommand{\headrulewidth}{0.0pt}
		\renewcommand{\footrulewidth}{0.0pt}
	}
\bibpunct[,]{[}{]}{;}{a}{,}{,}
\bibliographystyle{look/plainnat-custom}

\captionsetup{font=small, labelfont={bf,it}, margin=20pt, format=hang}

\let\Itemize =\itemize
\let\Enumerate =\enumerate
\let\Description =\description
\def\Nospacing{\itemsep=0.3em\topsep=0pt\partopsep=0pt\parskip=0pt\parsep=0pt}
\renewenvironment{itemize}{\Itemize\Nospacing}{\endlist}
\renewenvironment{enumerate}{\Enumerate\Nospacing}{\endlist}
\renewenvironment{description}{\Description\Nospacing}{\endlist}

%% DEFINITIONS

\newcommand{\grader}{\ensuremath{^\circ}}
\newcommand{\graderc}{\ensuremath{^\circ C}}

\newcommand{\unit}[1]{\ensuremath{\;\mathrm{#1}}}
\newcommand{\inv}[1]{$\overline{\mathrm{#1}}$}

\newcommand{\setleftmargin}[1]{
	\addtolength{\textwidth}{\oddsidemargin}
	\addtolength{\textwidth}{1in}
	\addtolength{\textwidth}{-#1}
	\setlength{\oddsidemargin}{-1in}
	\addtolength{\oddsidemargin}{#1}
	\setlength{\evensidemargin}{\oddsidemargin}}
\newcommand{\setrightmargin}[1]{
	\setlength{\textwidth}{\smpagewidth}
	\addtolength{\textwidth}{-\oddsidemargin}
	\addtolength{\textwidth}{-1in}
	\addtolength{\textwidth}{-#1}}
\newcommand{\settopmargin}[1]{
	\addtolength{\textheight}{\topmargin}
	\addtolength{\textheight}{1in}
	\addtolength{\textheight}{\headheight}
	\addtolength{\textheight}{\headsep}
	\addtolength{\textheight}{-#1}
	\setlength{\topmargin}{-1in}
	\addtolength{\topmargin}{-\headheight}
	\addtolength{\topmargin}{-\headsep}
	\addtolength{\topmargin}{#1}}
\newcommand{\setbottommargin}[1]{
	\setlength{\textheight}{\smpageheight}
	\addtolength{\textheight}{-\topmargin}
	\addtolength{\textheight}{-1in}
	\addtolength{\textheight}{-\footskip}
	\addtolength{\textheight}{-#1}}

\newlength{\smpagewidth}
\newlength{\smpageheight}
\setlength{\smpagewidth}{8.5in}
\setlength{\smpageheight}{11in}

\makeatletter
\def\forcerightpage{
	\newpage
	\if@twoside
		\ifodd
			\c@page
		\else
			\thispagestyle{empty}
			\mbox{}
			\newpage
		\fi
	\fi
}
\makeatother

\newcommand{\emptypage}{\newpage\thispagestyle{plain}\mbox{}\newpage}

\newcommand{\newevenpage}{\ifthenelse{\isodd{\thepage}}{\emptypage}{\newpage}}

\makeatletter
\let\OldPart\part
\renewcommand{\part}{\forcerightpage\OldPart}
\let\s@endpart\@endpart
\def\@endpart{\thispagestyle{empty}\s@endpart}
\makeatother
