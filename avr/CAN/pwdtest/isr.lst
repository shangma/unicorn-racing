GAS LISTING /tmp/ccmypDSg.s 			page 1


   1               		.file	"isr.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.stabs	"/home/morten/Documents/unicorn-racing/avr/CAN/pwdtest/",100,0,2,.Ltext0
  11               		.stabs	"isr.c",100,0,2,.Ltext0
  12               		.text
  13               	.Ltext0:
  14               		.stabs	"gcc2_compiled.",60,0,0,0
  15               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,1,0
  16               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,1,0
  17               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,1,0
  18               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,1,0
  19               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,1,0
  20               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,1,
  21               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,1,0
  22               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,1,0
  23               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,1,0
  24               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,1,0
  25               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,1,0
  26               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,1,0
  27               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,1,0
  28               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,1,0
  29               		.stabs	"void:t(0,15)=(0,15)",128,0,1,0
  30               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/avr/io.h",130,0,0,0
  31               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/avr/sfr_defs.h",130,0,0,0
  32               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/inttypes.h",130,0,0,0
  33               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/stdint.h",130,0,0,0
  34               		.stabs	"int8_t:t(4,1)=(0,10)",128,0,121,0
  35               		.stabs	"uint8_t:t(4,2)=(0,11)",128,0,122,0
  36               		.stabs	"int16_t:t(4,3)=(0,1)",128,0,123,0
  37               		.stabs	"uint16_t:t(4,4)=(0,4)",128,0,124,0
  38               		.stabs	"int32_t:t(4,5)=(0,3)",128,0,125,0
  39               		.stabs	"uint32_t:t(4,6)=(0,5)",128,0,126,0
  40               		.stabs	"int64_t:t(4,7)=(0,6)",128,0,128,0
  41               		.stabs	"uint64_t:t(4,8)=(0,7)",128,0,129,0
  42               		.stabs	"intptr_t:t(4,9)=(4,3)",128,0,142,0
  43               		.stabs	"uintptr_t:t(4,10)=(4,4)",128,0,147,0
  44               		.stabs	"int_least8_t:t(4,11)=(4,1)",128,0,159,0
  45               		.stabs	"uint_least8_t:t(4,12)=(4,2)",128,0,164,0
  46               		.stabs	"int_least16_t:t(4,13)=(4,3)",128,0,169,0
  47               		.stabs	"uint_least16_t:t(4,14)=(4,4)",128,0,174,0
  48               		.stabs	"int_least32_t:t(4,15)=(4,5)",128,0,179,0
  49               		.stabs	"uint_least32_t:t(4,16)=(4,6)",128,0,184,0
  50               		.stabs	"int_least64_t:t(4,17)=(4,7)",128,0,192,0
  51               		.stabs	"uint_least64_t:t(4,18)=(4,8)",128,0,199,0
  52               		.stabs	"int_fast8_t:t(4,19)=(4,1)",128,0,213,0
  53               		.stabs	"uint_fast8_t:t(4,20)=(4,2)",128,0,218,0
  54               		.stabs	"int_fast16_t:t(4,21)=(4,3)",128,0,223,0
  55               		.stabs	"uint_fast16_t:t(4,22)=(4,4)",128,0,228,0
  56               		.stabs	"int_fast32_t:t(4,23)=(4,5)",128,0,233,0
  57               		.stabs	"uint_fast32_t:t(4,24)=(4,6)",128,0,238,0
GAS LISTING /tmp/ccmypDSg.s 			page 2


  58               		.stabs	"int_fast64_t:t(4,25)=(4,7)",128,0,246,0
  59               		.stabs	"uint_fast64_t:t(4,26)=(4,8)",128,0,253,0
  60               		.stabs	"intmax_t:t(4,27)=(4,7)",128,0,273,0
  61               		.stabs	"uintmax_t:t(4,28)=(4,8)",128,0,278,0
  62               		.stabn	162,0,0,0
  63               		.stabs	"int_farptr_t:t(3,1)=(4,5)",128,0,77,0
  64               		.stabs	"uint_farptr_t:t(3,2)=(4,6)",128,0,81,0
  65               		.stabn	162,0,0,0
  66               		.stabn	162,0,0,0
  67               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/avr/fuse.h",130,0,0,0
  68               		.stabs	"__fuse_t:t(5,1)=(5,2)=s3low:(0,11),0,8;high:(0,11),8,8;extended:(0,11),16,8;;",128,0,239,0
  69               		.stabn	162,0,0,0
  70               		.stabn	162,0,0,0
  71               		.stabs	"/usr/lib/gcc/avr/4.3.4/../../../avr/include/stdlib.h",130,0,0,0
  72               		.stabs	"/usr/lib/gcc/avr/4.3.4/include/stddef.h",130,0,0,0
  73               		.stabs	"size_t:t(7,1)=(0,4)",128,0,214,0
  74               		.stabs	"wchar_t:t(7,2)=(0,1)",128,0,326,0
  75               		.stabn	162,0,0,0
  76               		.stabs	"div_t:t(6,1)=(6,2)=s4quot:(0,1),0,16;rem:(0,1),16,16;;",128,0,71,0
  77               		.stabs	"ldiv_t:t(6,3)=(6,4)=s8quot:(0,3),0,32;rem:(0,3),32,32;;",128,0,77,0
  78               		.stabs	"__compar_fn_t:t(6,5)=(6,6)=*(6,7)=f(0,1)",128,0,80,0
  79               		.stabn	162,0,0,0
  80               		.data
  81               	.LC0:
  82 0000 3B00      		.string	";"
  83               	.LC1:
  84 0002 0A0D 00   		.string	"\n\r"
  85               		.text
  86               		.stabs	"__vector_20:F(0,15)",36,0,25,__vector_20
  87               	.global	__vector_20
  88               		.type	__vector_20, @function
  89               	__vector_20:
  90               		.stabd	46,0,0
   0:isr.c         **** #include <avr/io.h>
   1:isr.c         **** #include <stdlib.h>
   2:isr.c         **** #include <avr/interrupt.h>
   3:isr.c         **** 
   4:isr.c         **** /*********************************************
   5:isr.c         ****  * AVR atMega644P Interrupt-service-rutiner
   6:isr.c         ****  *********************************************/
   7:isr.c         **** 
   8:isr.c         **** void sendtekst(char *);
   9:isr.c         **** void PWM_duty_cycle_A_set(unsigned int);
  10:isr.c         **** void PWM_duty_cycle_B_set(unsigned int);
  11:isr.c         **** void PWM_duty_cycle_A16_set(unsigned int);
  12:isr.c         **** 
  13:isr.c         **** // Variable
  14:isr.c         **** char count = 0;
  15:isr.c         **** char retning = 0;
  16:isr.c         **** unsigned int speed = 0;
  17:isr.c         **** 
  18:isr.c         **** extern int p;
  19:isr.c         **** extern float i;
  20:isr.c         **** extern int ref;
  21:isr.c         **** 
  22:isr.c         ****  //----- UART Interrupt --------------------------------------------------------
  23:isr.c         **** ISR(USART0_RX_vect)
GAS LISTING /tmp/ccmypDSg.s 			page 3


  24:isr.c         **** {
  91               		.stabn	68,0,25,.LM0-.LFBB1
  92               	.LM0:
  93               	.LFBB1:
  94 0000 1F92      		push __zero_reg__
  95 0002 0F92      		push r0
  96 0004 0FB6      		in r0,__SREG__
  97 0006 0F92      		push r0
  98 0008 1124      		clr __zero_reg__
  99 000a 0F93      		push r16
 100 000c 1F93      		push r17
 101 000e 2F93      		push r18
 102 0010 3F93      		push r19
 103 0012 4F93      		push r20
 104 0014 5F93      		push r21
 105 0016 6F93      		push r22
 106 0018 7F93      		push r23
 107 001a 8F93      		push r24
 108 001c 9F93      		push r25
 109 001e AF93      		push r26
 110 0020 BF93      		push r27
 111 0022 EF93      		push r30
 112 0024 FF93      		push r31
 113 0026 DF93      		push r29
 114 0028 CF93      		push r28
 115 002a 00D0      		rcall .
 116 002c 00D0      		rcall .
 117 002e 0F92      		push __tmp_reg__
 118 0030 CDB7      		in r28,__SP_L__
 119 0032 DEB7      		in r29,__SP_H__
 120               	/* prologue: Signal */
 121               	/* frame size = 5 */
  25:isr.c         **** 	char data;
  26:isr.c         **** 	char tempchar[5];	
  27:isr.c         **** 	data = UDR0;	// Lægger data fra seriel bufffer i variabel
 122               		.stabn	68,0,28,.LM1-.LFBB1
 123               	.LM1:
 124 0034 8091 C600 		lds r24,198
  28:isr.c         **** 
  29:isr.c         ****     if(data == 'x')
 125               		.stabn	68,0,30,.LM2-.LFBB1
 126               	.LM2:
 127 0038 8837      		cpi r24,lo8(120)
 128 003a 01F4      		brne .+2
 129 003c 00C0      		rjmp .L32
  30:isr.c         ****     {
  31:isr.c         ****     ref++;
  32:isr.c         ****     }
  33:isr.c         **** 
  34:isr.c         ****     if(data == 'z')
 130               		.stabn	68,0,35,.LM3-.LFBB1
 131               	.LM3:
 132 003e 8A37      		cpi r24,lo8(122)
 133 0040 01F4      		brne .+2
 134 0042 00C0      		rjmp .L33
  35:isr.c         ****     {
  36:isr.c         ****     ref--;
GAS LISTING /tmp/ccmypDSg.s 			page 4


  37:isr.c         ****     }
  38:isr.c         **** 
  39:isr.c         ****     if(data == 'i')
 135               		.stabn	68,0,40,.LM4-.LFBB1
 136               	.LM4:
 137 0044 8936      		cpi r24,lo8(105)
 138 0046 01F0      		breq .+2
 139 0048 00C0      		rjmp .L6
  40:isr.c         ****     {
  41:isr.c         ****     i = i+0.01;
 140               		.stabn	68,0,42,.LM5-.LFBB1
 141               	.LM5:
 142 004a 6091 0000 		lds r22,i
 143 004e 7091 0000 		lds r23,(i)+1
 144 0052 8091 0000 		lds r24,(i)+2
 145 0056 9091 0000 		lds r25,(i)+3
 146 005a 2AE0      		ldi r18,lo8(0x3c23d70a)
 147 005c 37ED      		ldi r19,hi8(0x3c23d70a)
 148 005e 43E2      		ldi r20,hlo8(0x3c23d70a)
 149 0060 5CE3      		ldi r21,hhi8(0x3c23d70a)
 150 0062 0E94 0000 		call __addsf3
 151 0066 6093 0000 		sts i,r22
 152 006a 7093 0000 		sts (i)+1,r23
 153 006e 8093 0000 		sts (i)+2,r24
 154 0072 9093 0000 		sts (i)+3,r25
 155               	.L25:
  42:isr.c         ****     }
  43:isr.c         **** 
  44:isr.c         ****     if(data == 'j')
  45:isr.c         ****     {
  46:isr.c         ****     i = i-0.01;
  47:isr.c         ****     }
  48:isr.c         **** 
  49:isr.c         ****     if(data == 'p')
  50:isr.c         ****     {
  51:isr.c         ****     p++;
  52:isr.c         ****     }
  53:isr.c         **** 
  54:isr.c         ****     if(data == 'l')
  55:isr.c         ****     {
  56:isr.c         ****     p--;
  57:isr.c         ****     }
  58:isr.c         **** 
  59:isr.c         ****     if(data == 'c')
  60:isr.c         ****     {
  61:isr.c         ****     PWM_duty_cycle_A16_set(0);
  62:isr.c         ****     }
  63:isr.c         **** 
  64:isr.c         ****     if(data == 'v')
  65:isr.c         ****     {
  66:isr.c         ****     PWM_duty_cycle_A16_set(1023);
  67:isr.c         ****     }
  68:isr.c         **** 
  69:isr.c         ****     if(data == 'o')
  70:isr.c         ****     {
  71:isr.c         ****         speed = speed + 16;
  72:isr.c         **** 
GAS LISTING /tmp/ccmypDSg.s 			page 5


  73:isr.c         ****         if(speed>=1023)
  74:isr.c         ****             speed = 1023;
  75:isr.c         ****     PWM_duty_cycle_A16_set(speed);
  76:isr.c         ****     }
  77:isr.c         **** 
  78:isr.c         ****     if(data == 'n')
  79:isr.c         ****     {
  80:isr.c         ****         if(speed<16)
  81:isr.c         ****             speed = 16;
  82:isr.c         **** 
  83:isr.c         ****     speed = speed - 16;
  84:isr.c         ****     PWM_duty_cycle_A16_set(speed);
  85:isr.c         ****     }
  86:isr.c         **** 
  87:isr.c         ****     if(data == 'a')
  88:isr.c         ****     {
  89:isr.c         ****         count = 0;
  90:isr.c         ****         retning = 0;
  91:isr.c         ****         PWM_duty_cycle_A_set(0);
  92:isr.c         **** 	    PWM_duty_cycle_B_set(0);
  93:isr.c         ****     }
  94:isr.c         **** 
  95:isr.c         ****     if(data == 'd')
  96:isr.c         ****     {
  97:isr.c         ****         count = 0;
  98:isr.c         ****         retning = 1;
  99:isr.c         ****         PWM_duty_cycle_A_set(0);
 100:isr.c         **** 	    PWM_duty_cycle_B_set(0);
 101:isr.c         ****     }
 102:isr.c         **** 	
 103:isr.c         **** 	if(data == 'w')
 104:isr.c         **** 	{
 105:isr.c         ****         if(count>=254)
 106:isr.c         ****             count = 254;
 107:isr.c         **** 
 108:isr.c         ****         count++;
 109:isr.c         **** 
 110:isr.c         ****         if(retning)
 111:isr.c         **** 		    PWM_duty_cycle_A_set(count);
 112:isr.c         ****         else
 113:isr.c         ****             PWM_duty_cycle_B_set(count);
 114:isr.c         **** 	}	
 115:isr.c         **** 	if(data == 's')
 116:isr.c         **** 	{
 117:isr.c         ****         if(count<=1)
 118:isr.c         ****             count = 1;            
 119:isr.c         **** 
 120:isr.c         ****         count--;
 121:isr.c         ****         
 122:isr.c         ****         if(retning)        
 123:isr.c         **** 		    PWM_duty_cycle_A_set(count);
 124:isr.c         ****         else
 125:isr.c         ****             PWM_duty_cycle_B_set(count);
 126:isr.c         **** 	}
 127:isr.c         **** 	if(data == 'q')
 128:isr.c         **** 	{
 129:isr.c         ****         if(count>=254)
GAS LISTING /tmp/ccmypDSg.s 			page 6


 130:isr.c         ****             count = 254;
 131:isr.c         **** 
 132:isr.c         ****         count = 255;
 133:isr.c         **** 
 134:isr.c         ****         if(retning)
 135:isr.c         **** 		    PWM_duty_cycle_A_set(count);
 136:isr.c         ****         else
 137:isr.c         ****             PWM_duty_cycle_B_set(count);
 138:isr.c         **** 	}
 139:isr.c         **** 	if(data == 'e')
 140:isr.c         **** 	{
 141:isr.c         ****         if(count>=254)
 142:isr.c         ****             count = 254;
 143:isr.c         **** 
 144:isr.c         ****         count = 0;
 145:isr.c         **** 
 146:isr.c         ****         if(retning)
 147:isr.c         **** 		    PWM_duty_cycle_A_set(count);
 148:isr.c         ****         else
 149:isr.c         ****             PWM_duty_cycle_B_set(count);
 150:isr.c         **** 	}	
 151:isr.c         **** 	
 152:isr.c         **** 	itoa(count, tempchar,10); 
 156               		.stabn	68,0,153,.LM6-.LFBB1
 157               	.LM6:
 158 0076 8091 0000 		lds r24,count
 159 007a 90E0      		ldi r25,lo8(0)
 160 007c 8E01      		movw r16,r28
 161 007e 0F5F      		subi r16,lo8(-(1))
 162 0080 1F4F      		sbci r17,hi8(-(1))
 163 0082 B801      		movw r22,r16
 164 0084 4AE0      		ldi r20,lo8(10)
 165 0086 50E0      		ldi r21,hi8(10)
 166 0088 0E94 0000 		call itoa
 153:isr.c         **** 	sendtekst(tempchar);
 167               		.stabn	68,0,154,.LM7-.LFBB1
 168               	.LM7:
 169 008c C801      		movw r24,r16
 170 008e 0E94 0000 		call sendtekst
 154:isr.c         ****     sendtekst(";");
 171               		.stabn	68,0,155,.LM8-.LFBB1
 172               	.LM8:
 173 0092 80E0      		ldi r24,lo8(.LC0)
 174 0094 90E0      		ldi r25,hi8(.LC0)
 175 0096 0E94 0000 		call sendtekst
 155:isr.c         **** 	itoa(speed, tempchar,10); 
 176               		.stabn	68,0,156,.LM9-.LFBB1
 177               	.LM9:
 178 009a 8091 0000 		lds r24,speed
 179 009e 9091 0000 		lds r25,(speed)+1
 180 00a2 B801      		movw r22,r16
 181 00a4 4AE0      		ldi r20,lo8(10)
 182 00a6 50E0      		ldi r21,hi8(10)
 183 00a8 0E94 0000 		call itoa
 156:isr.c         **** 	sendtekst(tempchar);
 184               		.stabn	68,0,157,.LM10-.LFBB1
 185               	.LM10:
GAS LISTING /tmp/ccmypDSg.s 			page 7


 186 00ac C801      		movw r24,r16
 187 00ae 0E94 0000 		call sendtekst
 157:isr.c         ****     sendtekst("\n\r");
 188               		.stabn	68,0,158,.LM11-.LFBB1
 189               	.LM11:
 190 00b2 80E0      		ldi r24,lo8(.LC1)
 191 00b4 90E0      		ldi r25,hi8(.LC1)
 192 00b6 0E94 0000 		call sendtekst
 193               	/* epilogue start */
 158:isr.c         **** }
 194               		.stabn	68,0,159,.LM12-.LFBB1
 195               	.LM12:
 196 00ba 0F90      		pop __tmp_reg__
 197 00bc 0F90      		pop __tmp_reg__
 198 00be 0F90      		pop __tmp_reg__
 199 00c0 0F90      		pop __tmp_reg__
 200 00c2 0F90      		pop __tmp_reg__
 201 00c4 CF91      		pop r28
 202 00c6 DF91      		pop r29
 203 00c8 FF91      		pop r31
 204 00ca EF91      		pop r30
 205 00cc BF91      		pop r27
 206 00ce AF91      		pop r26
 207 00d0 9F91      		pop r25
 208 00d2 8F91      		pop r24
 209 00d4 7F91      		pop r23
 210 00d6 6F91      		pop r22
 211 00d8 5F91      		pop r21
 212 00da 4F91      		pop r20
 213 00dc 3F91      		pop r19
 214 00de 2F91      		pop r18
 215 00e0 1F91      		pop r17
 216 00e2 0F91      		pop r16
 217 00e4 0F90      		pop r0
 218 00e6 0FBE      		out __SREG__,r0
 219 00e8 0F90      		pop r0
 220 00ea 1F90      		pop __zero_reg__
 221 00ec 1895      		reti
 222               	.L33:
  37:isr.c         ****     ref--;
 223               		.stabn	68,0,37,.LM13-.LFBB1
 224               	.LM13:
 225 00ee 8091 0000 		lds r24,ref
 226 00f2 9091 0000 		lds r25,(ref)+1
 227 00f6 0197      		sbiw r24,1
 228 00f8 9093 0000 		sts (ref)+1,r25
 229 00fc 8093 0000 		sts ref,r24
 230 0100 00C0      		rjmp .L25
 231               	.L32:
  32:isr.c         ****     ref++;
 232               		.stabn	68,0,32,.LM14-.LFBB1
 233               	.LM14:
 234 0102 8091 0000 		lds r24,ref
 235 0106 9091 0000 		lds r25,(ref)+1
 236 010a 0196      		adiw r24,1
 237 010c 9093 0000 		sts (ref)+1,r25
 238 0110 8093 0000 		sts ref,r24
GAS LISTING /tmp/ccmypDSg.s 			page 8


 239 0114 00C0      		rjmp .L25
 240               	.L6:
  45:isr.c         ****     if(data == 'j')
 241               		.stabn	68,0,45,.LM15-.LFBB1
 242               	.LM15:
 243 0116 8A36      		cpi r24,lo8(106)
 244 0118 01F4      		brne .L3
  47:isr.c         ****     i = i-0.01;
 245               		.stabn	68,0,47,.LM16-.LFBB1
 246               	.LM16:
 247 011a 6091 0000 		lds r22,i
 248 011e 7091 0000 		lds r23,(i)+1
 249 0122 8091 0000 		lds r24,(i)+2
 250 0126 9091 0000 		lds r25,(i)+3
 251 012a 2AE0      		ldi r18,lo8(0x3c23d70a)
 252 012c 37ED      		ldi r19,hi8(0x3c23d70a)
 253 012e 43E2      		ldi r20,hlo8(0x3c23d70a)
 254 0130 5CE3      		ldi r21,hhi8(0x3c23d70a)
 255 0132 0E94 0000 		call __subsf3
 256 0136 6093 0000 		sts i,r22
 257 013a 7093 0000 		sts (i)+1,r23
 258 013e 8093 0000 		sts (i)+2,r24
 259 0142 9093 0000 		sts (i)+3,r25
 260 0146 00C0      		rjmp .L25
 261               	.L3:
  50:isr.c         ****     if(data == 'p')
 262               		.stabn	68,0,50,.LM17-.LFBB1
 263               	.LM17:
 264 0148 8037      		cpi r24,lo8(112)
 265 014a 01F4      		brne .L5
  52:isr.c         ****     p++;
 266               		.stabn	68,0,52,.LM18-.LFBB1
 267               	.LM18:
 268 014c 8091 0000 		lds r24,p
 269 0150 9091 0000 		lds r25,(p)+1
 270 0154 0196      		adiw r24,1
 271 0156 9093 0000 		sts (p)+1,r25
 272 015a 8093 0000 		sts p,r24
 273 015e 00C0      		rjmp .L25
 274               	.L5:
  55:isr.c         ****     if(data == 'l')
 275               		.stabn	68,0,55,.LM19-.LFBB1
 276               	.LM19:
 277 0160 8C36      		cpi r24,lo8(108)
 278 0162 01F4      		brne .L7
  57:isr.c         ****     p--;
 279               		.stabn	68,0,57,.LM20-.LFBB1
 280               	.LM20:
 281 0164 8091 0000 		lds r24,p
 282 0168 9091 0000 		lds r25,(p)+1
 283 016c 0197      		sbiw r24,1
 284 016e 9093 0000 		sts (p)+1,r25
 285 0172 8093 0000 		sts p,r24
 286 0176 00C0      		rjmp .L25
 287               	.L7:
  60:isr.c         ****     if(data == 'c')
 288               		.stabn	68,0,60,.LM21-.LFBB1
GAS LISTING /tmp/ccmypDSg.s 			page 9


 289               	.LM21:
 290 0178 8336      		cpi r24,lo8(99)
 291 017a 01F4      		brne .L8
  62:isr.c         ****     PWM_duty_cycle_A16_set(0);
 292               		.stabn	68,0,62,.LM22-.LFBB1
 293               	.LM22:
 294 017c 80E0      		ldi r24,lo8(0)
 295 017e 90E0      		ldi r25,hi8(0)
 296 0180 0E94 0000 		call PWM_duty_cycle_A16_set
 297 0184 00C0      		rjmp .L25
 298               	.L8:
  65:isr.c         ****     if(data == 'v')
 299               		.stabn	68,0,65,.LM23-.LFBB1
 300               	.LM23:
 301 0186 8637      		cpi r24,lo8(118)
 302 0188 01F4      		brne .L9
  67:isr.c         ****     PWM_duty_cycle_A16_set(1023);
 303               		.stabn	68,0,67,.LM24-.LFBB1
 304               	.LM24:
 305 018a 8FEF      		ldi r24,lo8(1023)
 306 018c 93E0      		ldi r25,hi8(1023)
 307 018e 0E94 0000 		call PWM_duty_cycle_A16_set
 308 0192 00C0      		rjmp .L25
 309               	.L9:
  70:isr.c         ****     if(data == 'o')
 310               		.stabn	68,0,70,.LM25-.LFBB1
 311               	.LM25:
 312 0194 8F36      		cpi r24,lo8(111)
 313 0196 01F4      		brne .L10
  72:isr.c         ****         speed = speed + 16;
 314               		.stabn	68,0,72,.LM26-.LFBB1
 315               	.LM26:
 316 0198 8091 0000 		lds r24,speed
 317 019c 9091 0000 		lds r25,(speed)+1
 318 01a0 4096      		adiw r24,16
 319 01a2 9093 0000 		sts (speed)+1,r25
 320 01a6 8093 0000 		sts speed,r24
  74:isr.c         ****         if(speed>=1023)
 321               		.stabn	68,0,74,.LM27-.LFBB1
 322               	.LM27:
 323 01aa 23E0      		ldi r18,hi8(1023)
 324 01ac 8F3F      		cpi r24,lo8(1023)
 325 01ae 9207      		cpc r25,r18
 326 01b0 00F0      		brlo .L29
  75:isr.c         ****             speed = 1023;
 327               		.stabn	68,0,75,.LM28-.LFBB1
 328               	.LM28:
 329 01b2 8FEF      		ldi r24,lo8(1023)
 330 01b4 93E0      		ldi r25,hi8(1023)
 331 01b6 9093 0000 		sts (speed)+1,r25
 332 01ba 8093 0000 		sts speed,r24
 333               	.L29:
  85:isr.c         ****     PWM_duty_cycle_A16_set(speed);
 334               		.stabn	68,0,85,.LM29-.LFBB1
 335               	.LM29:
 336 01be 0E94 0000 		call PWM_duty_cycle_A16_set
 337 01c2 00C0      		rjmp .L25
GAS LISTING /tmp/ccmypDSg.s 			page 10


 338               	.L10:
  79:isr.c         ****     if(data == 'n')
 339               		.stabn	68,0,79,.LM30-.LFBB1
 340               	.LM30:
 341 01c4 8E36      		cpi r24,lo8(110)
 342 01c6 01F4      		brne .L11
  81:isr.c         ****         if(speed<16)
 343               		.stabn	68,0,81,.LM31-.LFBB1
 344               	.LM31:
 345 01c8 8091 0000 		lds r24,speed
 346 01cc 9091 0000 		lds r25,(speed)+1
 347 01d0 8031      		cpi r24,16
 348 01d2 9105      		cpc r25,__zero_reg__
 349 01d4 00F4      		brsh .L15
 350 01d6 80E1      		ldi r24,lo8(16)
 351 01d8 90E0      		ldi r25,hi8(16)
 352               	.L15:
  84:isr.c         ****     speed = speed - 16;
 353               		.stabn	68,0,84,.LM32-.LFBB1
 354               	.LM32:
 355 01da 4097      		sbiw r24,16
 356 01dc 9093 0000 		sts (speed)+1,r25
 357 01e0 8093 0000 		sts speed,r24
 358 01e4 00C0      		rjmp .L29
 359               	.L11:
  88:isr.c         ****     if(data == 'a')
 360               		.stabn	68,0,88,.LM33-.LFBB1
 361               	.LM33:
 362 01e6 8136      		cpi r24,lo8(97)
 363 01e8 01F4      		brne .L12
  90:isr.c         ****         count = 0;
 364               		.stabn	68,0,90,.LM34-.LFBB1
 365               	.LM34:
 366 01ea 1092 0000 		sts count,__zero_reg__
  91:isr.c         ****         retning = 0;
 367               		.stabn	68,0,91,.LM35-.LFBB1
 368               	.LM35:
 369 01ee 1092 0000 		sts retning,__zero_reg__
  92:isr.c         ****         PWM_duty_cycle_A_set(0);
 370               		.stabn	68,0,92,.LM36-.LFBB1
 371               	.LM36:
 372 01f2 80E0      		ldi r24,lo8(0)
 373 01f4 90E0      		ldi r25,hi8(0)
 374 01f6 0E94 0000 		call PWM_duty_cycle_A_set
  93:isr.c         **** 	    PWM_duty_cycle_B_set(0);
 375               		.stabn	68,0,93,.LM37-.LFBB1
 376               	.LM37:
 377 01fa 80E0      		ldi r24,lo8(0)
 378 01fc 90E0      		ldi r25,hi8(0)
 379 01fe 0E94 0000 		call PWM_duty_cycle_B_set
 380 0202 00C0      		rjmp .L25
 381               	.L12:
  96:isr.c         ****     if(data == 'd')
 382               		.stabn	68,0,96,.LM38-.LFBB1
 383               	.LM38:
 384 0204 8436      		cpi r24,lo8(100)
 385 0206 01F4      		brne .L14
GAS LISTING /tmp/ccmypDSg.s 			page 11


  98:isr.c         ****         count = 0;
 386               		.stabn	68,0,98,.LM39-.LFBB1
 387               	.LM39:
 388 0208 1092 0000 		sts count,__zero_reg__
  99:isr.c         ****         retning = 1;
 389               		.stabn	68,0,99,.LM40-.LFBB1
 390               	.LM40:
 391 020c 81E0      		ldi r24,lo8(1)
 392 020e 8093 0000 		sts retning,r24
 100:isr.c         ****         PWM_duty_cycle_A_set(0);
 393               		.stabn	68,0,100,.LM41-.LFBB1
 394               	.LM41:
 395 0212 80E0      		ldi r24,lo8(0)
 396 0214 90E0      		ldi r25,hi8(0)
 397 0216 0E94 0000 		call PWM_duty_cycle_A_set
 101:isr.c         **** 	    PWM_duty_cycle_B_set(0);
 398               		.stabn	68,0,101,.LM42-.LFBB1
 399               	.LM42:
 400 021a 80E0      		ldi r24,lo8(0)
 401 021c 90E0      		ldi r25,hi8(0)
 402 021e 0E94 0000 		call PWM_duty_cycle_B_set
 403 0222 00C0      		rjmp .L25
 404               	.L14:
 104:isr.c         **** 	if(data == 'w')
 405               		.stabn	68,0,104,.LM43-.LFBB1
 406               	.LM43:
 407 0224 8737      		cpi r24,lo8(119)
 408 0226 01F4      		brne .L16
 106:isr.c         ****         if(count>=254)
 409               		.stabn	68,0,106,.LM44-.LFBB1
 410               	.LM44:
 411 0228 8091 0000 		lds r24,count
 412 022c 8E3F      		cpi r24,lo8(-2)
 413 022e 00F0      		brlo .L19
 414 0230 8EEF      		ldi r24,lo8(-2)
 415               	.L19:
 109:isr.c         ****         count++;
 416               		.stabn	68,0,109,.LM45-.LFBB1
 417               	.LM45:
 418 0232 982F      		mov r25,r24
 419 0234 9F5F      		subi r25,lo8(-(1))
 420 0236 9093 0000 		sts count,r25
 111:isr.c         ****         if(retning)
 421               		.stabn	68,0,111,.LM46-.LFBB1
 422               	.LM46:
 423 023a 8091 0000 		lds r24,retning
 424 023e 8823      		tst r24
 425 0240 01F0      		breq .L22
 426               	.L30:
 124:isr.c         **** 		    PWM_duty_cycle_A_set(count);
 427               		.stabn	68,0,124,.LM47-.LFBB1
 428               	.LM47:
 429 0242 892F      		mov r24,r25
 430 0244 90E0      		ldi r25,lo8(0)
 431 0246 0E94 0000 		call PWM_duty_cycle_A_set
 432 024a 00C0      		rjmp .L25
 433               	.L16:
GAS LISTING /tmp/ccmypDSg.s 			page 12


 116:isr.c         **** 	if(data == 's')
 434               		.stabn	68,0,116,.LM48-.LFBB1
 435               	.LM48:
 436 024c 8337      		cpi r24,lo8(115)
 437 024e 01F0      		breq .L34
 128:isr.c         **** 	if(data == 'q')
 438               		.stabn	68,0,128,.LM49-.LFBB1
 439               	.LM49:
 440 0250 8137      		cpi r24,lo8(113)
 441 0252 01F0      		breq .L35
 140:isr.c         **** 	if(data == 'e')
 442               		.stabn	68,0,140,.LM50-.LFBB1
 443               	.LM50:
 444 0254 8536      		cpi r24,lo8(101)
 445 0256 01F0      		breq .+2
 446 0258 00C0      		rjmp .L25
 145:isr.c         ****         count = 0;
 447               		.stabn	68,0,145,.LM51-.LFBB1
 448               	.LM51:
 449 025a 1092 0000 		sts count,__zero_reg__
 147:isr.c         ****         if(retning)
 450               		.stabn	68,0,147,.LM52-.LFBB1
 451               	.LM52:
 452 025e 8091 0000 		lds r24,retning
 453 0262 8823      		tst r24
 454 0264 01F4      		brne .L36
 150:isr.c         ****             PWM_duty_cycle_B_set(count);
 455               		.stabn	68,0,150,.LM53-.LFBB1
 456               	.LM53:
 457 0266 80E0      		ldi r24,lo8(0)
 458 0268 90E0      		ldi r25,hi8(0)
 459 026a 0E94 0000 		call PWM_duty_cycle_B_set
 460 026e 00C0      		rjmp .L25
 461               	.L34:
 118:isr.c         ****         if(count<=1)
 462               		.stabn	68,0,118,.LM54-.LFBB1
 463               	.LM54:
 464 0270 8091 0000 		lds r24,count
 465 0274 8230      		cpi r24,lo8(2)
 466 0276 00F0      		brlo .L37
 467               	.L21:
 121:isr.c         ****         count--;
 468               		.stabn	68,0,121,.LM55-.LFBB1
 469               	.LM55:
 470 0278 982F      		mov r25,r24
 471 027a 9150      		subi r25,lo8(-(-1))
 472 027c 9093 0000 		sts count,r25
 123:isr.c         ****         if(retning)        
 473               		.stabn	68,0,123,.LM56-.LFBB1
 474               	.LM56:
 475 0280 8091 0000 		lds r24,retning
 476 0284 8823      		tst r24
 477 0286 01F4      		brne .L30
 478               	.L22:
 126:isr.c         ****             PWM_duty_cycle_B_set(count);
 479               		.stabn	68,0,126,.LM57-.LFBB1
 480               	.LM57:
GAS LISTING /tmp/ccmypDSg.s 			page 13


 481 0288 892F      		mov r24,r25
 482 028a 90E0      		ldi r25,lo8(0)
 483 028c 0E94 0000 		call PWM_duty_cycle_B_set
 484 0290 00C0      		rjmp .L25
 485               	.L35:
 133:isr.c         ****         count = 255;
 486               		.stabn	68,0,133,.LM58-.LFBB1
 487               	.LM58:
 488 0292 8FEF      		ldi r24,lo8(-1)
 489 0294 8093 0000 		sts count,r24
 135:isr.c         ****         if(retning)
 490               		.stabn	68,0,135,.LM59-.LFBB1
 491               	.LM59:
 492 0298 8091 0000 		lds r24,retning
 493 029c 8823      		tst r24
 494 029e 01F0      		breq .L24
 136:isr.c         **** 		    PWM_duty_cycle_A_set(count);
 495               		.stabn	68,0,136,.LM60-.LFBB1
 496               	.LM60:
 497 02a0 8FEF      		ldi r24,lo8(255)
 498 02a2 90E0      		ldi r25,hi8(255)
 499 02a4 0E94 0000 		call PWM_duty_cycle_A_set
 500 02a8 00C0      		rjmp .L25
 501               	.L36:
 148:isr.c         **** 		    PWM_duty_cycle_A_set(count);
 502               		.stabn	68,0,148,.LM61-.LFBB1
 503               	.LM61:
 504 02aa 80E0      		ldi r24,lo8(0)
 505 02ac 90E0      		ldi r25,hi8(0)
 506 02ae 0E94 0000 		call PWM_duty_cycle_A_set
 507 02b2 00C0      		rjmp .L25
 508               	.L24:
 138:isr.c         ****             PWM_duty_cycle_B_set(count);
 509               		.stabn	68,0,138,.LM62-.LFBB1
 510               	.LM62:
 511 02b4 8FEF      		ldi r24,lo8(255)
 512 02b6 90E0      		ldi r25,hi8(255)
 513 02b8 0E94 0000 		call PWM_duty_cycle_B_set
 514 02bc 00C0      		rjmp .L25
 515               	.L37:
 516 02be 81E0      		ldi r24,lo8(1)
 517 02c0 00C0      		rjmp .L21
 518               		.size	__vector_20, .-__vector_20
 519               		.stabs	"data:r(0,2)",64,0,26,24
 520               		.stabs	"tempchar:(0,16)=ar(0,17)=r(0,17);0;0177777;;0;4;(0,2)",128,0,27,1
 521               		.stabn	192,0,0,.LFBB1-.LFBB1
 522               		.stabn	224,0,0,.Lscope1-.LFBB1
 523               	.Lscope1:
 524               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 525               		.stabd	78,0,0
 526               	.global	count
 527               	.global	count
 528               		.section .bss
 529               		.type	count, @object
 530               		.size	count, 1
 531               	count:
 532 0000 00        		.skip 1,0
GAS LISTING /tmp/ccmypDSg.s 			page 14


 533               	.global	retning
 534               	.global	retning
 535               		.type	retning, @object
 536               		.size	retning, 1
 537               	retning:
 538 0001 00        		.skip 1,0
 539               	.global	speed
 540               	.global	speed
 541               		.type	speed, @object
 542               		.size	speed, 2
 543               	speed:
 544 0002 0000      		.skip 2,0
 545               		.stabs	"count:G(0,2)",32,0,15,0
 546               		.stabs	"retning:G(0,2)",32,0,16,0
 547               		.stabs	"speed:G(0,4)",32,0,17,0
 548               		.text
 549               		.stabs	"",100,0,0,.Letext0
 550               	.Letext0:
GAS LISTING /tmp/ccmypDSg.s 			page 15


DEFINED SYMBOLS
                            *ABS*:00000000 isr.c
     /tmp/ccmypDSg.s:2      *ABS*:0000003f __SREG__
     /tmp/ccmypDSg.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccmypDSg.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccmypDSg.s:5      *ABS*:00000034 __CCP__
     /tmp/ccmypDSg.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/ccmypDSg.s:7      *ABS*:00000001 __zero_reg__
     /tmp/ccmypDSg.s:89     .text:00000000 __vector_20
     /tmp/ccmypDSg.s:531    .bss:00000000 count
     /tmp/ccmypDSg.s:543    .bss:00000002 speed
     /tmp/ccmypDSg.s:537    .bss:00000001 retning

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
i
__addsf3
itoa
sendtekst
ref
__subsf3
p
PWM_duty_cycle_A16_set
PWM_duty_cycle_A_set
PWM_duty_cycle_B_set
